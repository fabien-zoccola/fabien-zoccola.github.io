import{B as e,s as t}from"./index-fe8be053.js";let n=!1,i=0;function o(){n=!0,setTimeout((()=>{n=!1}),50)}function s(e){"touch"===e.pointerType&&o()}const r="disabled";export default class extends e{init(){this.ignoreEmulatedMouseEvents=!1,this.isHovered=!1,"undefined"!=typeof PointerEvent?(this.on("pointerenter",(e=>{n&&"mouse"===e.pointerType||this.triggerHoverStart(e,e.pointerType)})),this.on("pointerleave",(e=>{this.triggerHoverEnd(e,e.pointerType)}))):(this.on("touchstart",(()=>{this.ignoreEmulatedMouseEvents=!0})),this.on("mouseenter",(e=>{this.ignoreEmulatedMouseEvents||n||this.triggerHoverStart(e,"mouse"),this.ignoreEmulatedMouseEvents=!1})),this.on("mouseleave",(e=>{this.triggerHoverEnd(e,"mouse")})))}connected(){this.tearDown=function(){if("undefined"!=typeof document)return"undefined"!=typeof PointerEvent?document.addEventListener("pointerup",s):document.addEventListener("touchend",o),i++,()=>{i--,i>0||("undefined"!=typeof PointerEvent?document.removeEventListener("pointerup",s):document.removeEventListener("touchend",o))}}()}disconnected(){this.tearDown&&this.tearDown()}get isDisabled(){return this.host.hasAttribute("disabled")}changed(e,t){"disabled"===e&&this.set(null==t)}setEffect(e){const n=this.host;n.nuSetMod("hover",e),n.nuSetContext("hover",e||null);const i=n.constructor.nuContents;i&&(this.contentsRef=n.querySelector(i)),this.contentsRef&&t(this.contentsRef,"is-hover",e)}set(e){this.host.nuSetMod("hoverable",e||null)}triggerHoverStart(e,t){this.isDisabled||"touch"===t||this.isHovered||(this.isHovered=!0,this.emit("hoverstart",{pointerType:t}),this.emit("hoverchange",{pointerType:t}),this.setEffect(!0))}triggerHoverEnd(e,t){!this.isDisabled&&"touch"!==t&&this.isHovered&&(this.isHovered=!1,this.emit("hoverend",{pointerType:t}),this.emit("hoverchange",{pointerType:t}),this.setEffect(!1))}}export{r as DISABLED_ATTR};
