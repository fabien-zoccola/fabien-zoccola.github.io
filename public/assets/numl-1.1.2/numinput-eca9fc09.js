import e from"./input-c965e08d.js";import{n as s}from"./number-93d0ff7a.js";import{v as t,i}from"./index-fe8be053.js";export default class extends e{init(){this.props.value=e=>{null==e?this.setValue(null):this.setValue(t(e,0),!0)},this.props.min=e=>t(e,Number.MIN_SAFE_INTEGER),this.props.max=e=>t(e,Number.MAX_SAFE_INTEGER),this.props.type="number",super.init();const{ref:e}=this;e.type="number",e.inputMode="decimal",e.value=this.value,e.addEventListener("focus",(s=>{try{e.select()}catch(e){}}))}changed(e,s){super.changed(e,s),this.declareProps()}setValue(e,s){const l=e;null!=e&&(e=t(e)),null!=e&&(e>this.max?e=this.max:e<this.min&&(e=this.min)),this.ref&&(null==l||""===l?this.ref.value&&(this.ref.value=""):this.ref.value=e),i(this.value,e)||(this.value=e,s||this.emit("input",this.value),this.declareProps())}declareProps(){let e=null!=this.value?`"${s(this.value,this.locale,this)}"`:`"${this.placeholder}"`;this.host.style.setProperty("--value",e)}}
